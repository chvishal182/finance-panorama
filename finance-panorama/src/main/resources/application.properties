# --- SHARED CONFIGURATION (FOR ALL ENVIRONMENTS) ---

spring.application.name=authservice
server.port=9898

# Common datasource/JPA settings - use ENV variables for prod, local defaults for dev
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
spring.datasource.username=${DB_USER:springuser}
spring.datasource.password=${DB_PASSWORD:password}
spring.jpa.show-sql=true
spring.session.store-type=none
spring.jpa.hibernate.ddl-auto=validate

# Common Kafka producer settings - use ENV variables for prod, local defaults for dev
spring.kafka.producer.bootstrap-servers=${KAFKA_BOOTSTRAP_SERVERS:192.168.56.101:9092}
spring.kafka.producer.key.serializer=org.apache.kafka.common.serialization.StringSerializer
spring.kafka.producer.value-serializer=com.chelv.serdes.serialization.UserInfoSerializer
spring.kafka.producer.properties.spring.json.type.mapping=auth:com.chelv.model.publisher.UserInfoEvent
spring.kafka.topic.name=testing_json

# Common Kafka consumer settings - use ENV variables for prod, local defaults for dev
spring.kafka.consumer.bootstrap-servers=${KAFKA_BOOTSTRAP_SERVERS:192.168.56.101:9092}

# Common Redis settings - use ENV variables for prod, local defaults for dev
spring.data.redis.host=${REDIS_HOST:192.168.56.101}
spring.data.redis.port=${REDIS_PORT:6379}
spring.data.redis.password=${REDIS_PASSWORD:redis_gold123}
spring.data.redis.database=0

# Common Logging
logging.level.org.springframework.security=DEBUG